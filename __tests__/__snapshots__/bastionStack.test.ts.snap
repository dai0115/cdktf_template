// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`bastionStack snapshot test for bastionStack 1`] = `
"{
  "data": {
    "aws_iam_policy_document": {
      "application-dev-BastionAssumeRole": {
        "statement": [
          {
            "actions": [
              "sts:AssumeRole"
            ],
            "effect": "Allow",
            "principals": [
              {
                "identifiers": [
                  "ecs-tasks.amazonaws.com"
                ],
                "type": "Service"
              }
            ]
          }
        ]
      },
      "application-dev-BastionTaskPolicy": {
        "statement": [
          {
            "actions": [
              "ssmmessages:CreateControlChannel",
              "ssmmessages:CreateDataChannel",
              "ssmmessages:OpenControlChannel",
              "ssmmessages:OpenDataChannel"
            ],
            "effect": "Allow",
            "resources": [
              "*"
            ]
          },
          {
            "actions": [
              "ecr:GetAuthorizationToken",
              "ecr:BatchCheckLayerAvailability",
              "ecr:GetDownloadUrlForLayer",
              "ecr:BatchGetImage",
              "logs:CreateLogStream",
              "logs:PutLogEvents"
            ],
            "effect": "Allow",
            "resources": [
              "*"
            ]
          }
        ]
      }
    }
  },
  "provider": {
    "aws": [
      {
        "region": "ap-northeast-1"
      }
    ]
  },
  "resource": {
    "aws_ecs_cluster": {
      "application-dev-BastionCluster": {
        "name": "application-dev-BastionCluster",
        "setting": [
          {
            "name": "containerInsights",
            "value": "enabled"
          }
        ]
      }
    },
    "aws_ecs_service": {
      "application-dev-BastionEcsService": {
        "cluster": "\${aws_ecs_cluster.application-dev-BastionCluster.name}",
        "desired_count": 1,
        "enable_execute_command": true,
        "launch_type": "FARGATE",
        "name": "application-dev-BastionEcsService",
        "network_configuration": {
          "security_groups": [
            "\${aws_security_group.bastionSG.id}"
          ],
          "subnets": [
            "\${aws_subnet.application-dev-Bastion.id}"
          ]
        },
        "task_definition": "\${aws_ecs_task_definition.application-dev-BastiontaskDefinition.arn}"
      }
    },
    "aws_ecs_task_definition": {
      "application-dev-BastiontaskDefinition": {
        "container_definitions": "[{\\"name\\":\\"bastion\\",\\"image\\":\\"amazonlinux:latest\\",\\"essential\\":true,\\"cpu\\":256,\\"memory\\":512,\\"portMappings\\":[{\\"containerPort\\":80}],\\"logConfiguration\\":{\\"logDriver\\":\\"awslogs\\",\\"options\\":{\\"awslogs-region\\":\\"ap-northeast-1\\",\\"awslogs-stream-prefix\\":\\"ecs-bastion-task\\",\\"awslogs-group\\":\\"/ecs/ecs-bastion-task\\",\\"awslogs-create-group\\":\\"true\\"}}}]",
        "cpu": "256",
        "execution_role_arn": "\${aws_iam_role.application-dev-BastionTaskExecutionRole.arn}",
        "family": "application-dev-BastiontaskDefinition",
        "memory": "512",
        "network_mode": "awsvpc",
        "requires_compatibilities": [
          "FARGATE"
        ],
        "task_role_arn": "\${aws_iam_role.application-dev-BastionTaskExecutionRole.arn}"
      }
    },
    "aws_iam_policy": {
      "application-dev-BastionTaskExecutionPolicy": {
        "name": "application-dev-BastionTaskExecutionPolicy",
        "policy": "\${data.aws_iam_policy_document.application-dev-BastionTaskPolicy.json}"
      }
    },
    "aws_iam_role": {
      "application-dev-BastionTaskExecutionRole": {
        "assume_role_policy": "\${data.aws_iam_policy_document.application-dev-BastionAssumeRole.json}",
        "name": "application-dev-BastionTaskExecutionRole"
      }
    },
    "aws_iam_role_policy_attachment": {
      "application-dev-RolePolicyAttach": {
        "policy_arn": "\${aws_iam_policy.application-dev-BastionTaskExecutionPolicy.arn}",
        "role": "\${aws_iam_role.application-dev-BastionTaskExecutionRole.name}"
      }
    }
  },
  "terraform": {
    "required_providers": {
      "aws": {
        "source": "aws",
        "version": "4.60.0"
      }
    }
  }
}"
`;
